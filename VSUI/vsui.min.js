"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VsuiPicker(){var e=arguments[arguments.length-1],t=$.extend({tapName1:"按钮选择器",tapName2:"时间选择器",btnName1:"按钮1",btnName2:"按钮2",btnName3:"按钮3",btnData1:"data1",btnData2:"data2",btnData3:"data3",onChoose:$.noop,onConfirm:$.noop},e);$(".vsui-content").css("padding-top",function(){return parseInt($(".vsui-content").css("padding-top"))+26+"px"});var i='<div class="vsui-picker"><div class="vsui-btnPicker" id="vsui-choose" style="display: none"><a href="javascript:;" class="vsui-btn vsui-btn_blue vsui-choose-btn" data-btn-data="'+t.btnData1+'">'+t.btnName1+'</a><a href="javascript:;" class="vsui-btn vsui-btn_blue vsui-choose-btn" data-btn-data="'+t.btnData2+'">'+t.btnName2+'</a><a href="javascript:;" class="vsui-btn vsui-btn_blue vsui-choose-btn" data-btn-data="'+t.btnData3+'">'+t.btnName3+'</a></div><div class="vsui-btnPicker" id="vsui-date" style="display: none"><a href="javascript:;" class="vsui-btn vsui-btn_blue vsui-Data-btn" data-date-data="week">七天</a><a href="javascript:;" class="vsui-btn vsui-btn_blue vsui-date-btn" data-date-data="month">三十天</a><a href="javascript:;" class="vsui-btn vsui-btn_blue vsui-date-btn" data-date-data="all">全部</a></div><div class="vsui-datePicker" style="display: none"><div class="vsui-picker__hd">自定义时间</div><div class="vsui-picker__bd"><div class="vsui-picker__middle">至</div></div><div class="vsui-picker__fd"><a href="javascript:;" data-action="select" id="vsui-picker-confirm" class="vsui-btn vsui-btn_blue vsui-picker__action">确定</a></div></div><div class="vsui-picker-tapGroup"><div class="vsui-picker-tap" id="vsTap1">'+t.tapName1+'</div><div class="vsui-picker-tap" id="vsTap2">'+t.tapName2+'</div></div></div><div class="vsui-mask content"></div>';$(".vsui-header").after(i);var n=new datePicker({start:"1989-01-06",end:2020,property:"start"}),a=new datePicker({start:"1993-03-21",end:2020,property:"end"}),s=!1,o=!1;$(".vsui-picker-tap").on("click",function(){switch($(this).attr("id")){case"vsTap1":s?(o||($("#vsTap2").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").removeClass("vsui-animate-fade-in").addClass("vsui-animate-fade-out"),setTimeout(function(){$(".vsui-mask.content").hide(),$("#vsui-choose").hide()},600)),s=!1):(o?($(".vsui-picker__mask").hide(),$("#vsTap1").removeClass("active"),$("#vsTap2").addClass("active"),$("#vsui-choose").show(),$(".vsui-picker").height(84),$("#vsui-date").fadeOut(),setTimeout(function(){$(".vsui-datePicker").hide()},600),o=!1):($("#vsui-choose").show(),$("#vsTap2").addClass("active"),$(".vsui-picker").height(84),$(".vsui-mask.content").show().removeClass("vsui-animate-fade-out").addClass("vsui-animate-fade-in")),s=!0);break;case"vsTap2":s?o||($(".vsui-datePicker").show(),$("#vsTap1").addClass("active"),$("#vsTap2").removeClass("active"),$(".vsui-picker").height(307),$("#vsui-date").fadeIn(),setTimeout(function(){$(".vsui-picker__mask").show(),$("#vsui-choose").hide()},600),s=!1,o=!0):o?($(".vsui-picker__mask").hide(),$("#vsTap1").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").removeClass("vsui-animate-fade-in").addClass("vsui-animate-fade-out"),setTimeout(function(){$(".vsui-mask.content").hide(),$("#vsui-date").hide(),$(".vsui-datePicker").hide()},600),o=!1):($("#vsui-date").show(),$(".vsui-datePicker").show(),$("#vsTap1").addClass("active"),$(".vsui-picker").height(307),$(".vsui-mask.content").show().removeClass("vsui-animate-fade-out").addClass("vsui-animate-fade-in"),setTimeout(function(){$(".vsui-picker__mask").show()},500),o=!0)}}),$(".vsui-mask.content").on("click",function(){s?($("#vsTap2").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").removeClass("vsui-animate-fade-in").addClass("vsui-animate-fade-out"),setTimeout(function(){$(".vsui-mask.content").hide(),$("#vsui-choose").hide()},600),s=!1):o&&($(".vsui-picker__mask").hide(),$("#vsTap1").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").removeClass("vsui-animate-fade-in").addClass("vsui-animate-fade-out"),setTimeout(function(){$(".vsui-mask.content").hide(),$("#vsui-date").hide(),$(".vsui-datePicker").hide()},600),o=!1)}),$(".vsui-choose-btn").on("click",function(){var e={label:$(this).html(),value:$(this).data("btn-data")};t.onChoose(new Result(e)),$("#vsTap2").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").fadeOut(),setTimeout(function(){$("#vsui-choose").hide()},600),s=!1}),$(".vsui-date-btn").on("click",function(){var e=new Date,i=void 0,n=void 0,a=void 0,s=void 0,u=void 0,r=void 0,l=void 0,d=void 0,c=void 0;switch(u={label:e.getFullYear(),value:e.getFullYear()},r={label:e.getMonth()+1,value:e.getMonth()+1},l={label:e.getDate(),value:e.getDate()},$(this).data("date-data")){case"week":n={label:(i=new Date(e.getTime()-6048e5)).getFullYear(),value:i.getFullYear()},a={label:i.getMonth()+1,value:i.getMonth()+1},s={label:i.getDate(),value:i.getDate()},d=[new Result(n),new Result(a),new Result(s)],c=[new Result(u),new Result(r),new Result(l)];break;case"month":n={label:(i=new Date(e.getTime()-2592e6)).getFullYear(),value:i.getFullYear()},a={label:i.getMonth()+1,value:i.getMonth()+1},s={label:i.getDate(),value:i.getDate()},d=[new Result(n),new Result(a),new Result(s)],c=[new Result(u),new Result(r),new Result(l)];break;default:var v={label:"all",value:0};d=[new Result(v),new Result(v),new Result(v)],c=[new Result(v),new Result(v),new Result(v)]}t.onConfirm(d,c),$(".vsui-picker__mask").hide(),$("#vsTap1").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").removeClass("vsui-animate-fade-in").addClass("vsui-animate-fade-out"),setTimeout(function(){$(".vsui-mask.content").hide(),$("#vsui-date").hide(),$(".vsui-datePicker").hide()},600),o=!1}),$(".vsui-picker__action").on("click",function(){t.onConfirm(n.result,a.result),$(".vsui-picker__mask").hide(),$("#vsTap1").removeClass("active"),$(".vsui-picker").height(26),$(".vsui-mask.content").removeClass("vsui-animate-fade-in").addClass("vsui-animate-fade-out"),setTimeout(function(){$(".vsui-mask.content").hide(),$("#vsui-date").hide(),$(".vsui-datePicker").hide()},600),o=!1})}function VsuiDialog(){function e(t){e=$.noop,u.addClass("vsui-animate-fade-out"),o.addClass("vsui-animate-fade-out").on("animationend webkitAnimationEnd",function(){s.remove(),_sington=!1,t&&t()})}function t(t){e(t)}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_sington)return _sington;var n="";n='<div class="'+(i=$.extend({title:null,content:"",className:"",buttons:[{label:"确定",type:"primary",onClick:$.noop}]},i)).className+'"><div class="vsui-mask fullScreen"></div><div class="vsui-dialog">',i.title?n+='<strong class="vsui-dialog__title">'+i.title+"</strong>":n+='<strong class="vsui-dialog__title"></strong>',n+='<div class="vsui-dialog__content">'+i.content+"</div>",n+='<div class="vsui-dialog__btnTeam">';for(var a=0;a<i.buttons.length;a++)n+='<a href="javascript:;" class="vsui-dialog__btn vsui-dialog__btn_'+i.buttons[a].type+'">'+i.buttons[a].label+"</a>";n+="</div></div></div>";var s=$(render(n,i)),o=s.find(".vsui-dialog"),u=s.find(".vsui-mask");return $("body").append(s),$(".vsui-mask").show(),u.show().addClass("vsui-animate-fade-in"),o.addClass("vsui-animate-fade-in"),s.on("click",".vsui-dialog__btn",function(e){var n=$(this).index();i.buttons[n].onClick?!1!==i.buttons[n].onClick.call(this,e)&&t():t()}),_sington=s[0],_sington.hide=t,_sington}function alert(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.noop,i=arguments[2];return"object"===(void 0===t?"undefined":_typeof(t))&&(i=t,t=$.noop),i=$.extend({content:e,buttons:[{label:"确定",type:"primary",onClick:t}]},i),VsuiDialog(i)}function confirm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.noop,n=arguments[3];return"object"===(void 0===t?"undefined":_typeof(t))?(n=t,t=$.noop):"object"===(void 0===i?"undefined":_typeof(i))&&(n=i,i=$.noop),n=$.extend({content:e,buttons:[{label:"取消",type:"default",onClick:i},{label:"确定",type:"primary",onClick:t}]},n),VsuiDialog(n)}function VsuiPrompt(){function e(t){e=$.noop,l.addClass("vsui-animate-fade-out"),r.addClass("vsui-animate-fade-out").on("animationend webkitAnimationEnd",function(){u.remove(),_sington=!1,t&&t()})}function t(t){e(t)}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_sington)return _sington;var n="",a="";n='<div class="'+(i=$.extend({title:null,input:[{label:"标签",type:"checkbox",name:"label"},{label:"文本框",type:"text",name:"input"}],more:null,buttons:[{label:"取消",type:"cancel"},{label:"确定",type:"submit"}],className:"",onConfirm:$.noop},i)).className+'"><div class="vsui-mask fullScreen"></div><div class="vsui-prompt">',i.title?n+='<strong class="vsui-prompt__hd">'+i.title+"</strong>":n+='<strong class="vsui-prompt__hd"></strong>',n+='<div class="vsui-prompt__bd">';for(var s=0;s<i.input.length;s++)"checkbox"===i.input[s].type?n+='<label class="vsui-input-checkbox inline" for="vsPromptId'+s+'"><input type="checkbox" name="'+i.input[s].name+'" id="vsPromptId'+s+'" value="'+i.input[s].value+'"><div class="vsui-icon" style="'+i.input[s].style+'"></div><p style="'+i.input[s].style+'">'+i.input[s].label+"</p></label>":"text"===i.input[s].type&&(n+='<div class="vsui-input-text inline"><div class="name" style="'+i.input[s].style+'">'+i.input[s].label+'</div><input name="'+i.input[s].name+'" type="text" style="'+i.input[s].style+'"></div>');i.more&&(n+='<div class="vsui-prompt-more">'+i.more.text+"</div>"),n+='</div><div class="vsui-prompt__fd">';for(var o=0;o<i.buttons.length;o++)n+='<a href="javascript:;" class="vsui-btn vsui-btn__'+i.buttons[o].type+'">'+i.buttons[o].label+"</a>";n+="</div></div>";var u=$(render(n,i)),r=u.find(".vsui-prompt"),l=u.find(".vsui-mask");return $("body").append(u),$(".vsui-mask").show(),l.show().addClass("vsui-animate-fade-in"),r.addClass("vsui-animate-fade-in"),$(".vsui-btn__submit").on("click",function(){var e=[];r.find(".vsui-input-checkbox").each(function(){$(this).children("input").is(":checked")&&e.push({label:$(this).children("p").html(),name:$(this).children("input").attr("name"),type:"checkbox",value:$(this).children("input").val()})}),r.find(".vsui-input-text").each(function(){""!=$(this).children("input").val()&&e.push({label:$(this).children(".name").html(),name:$(this).children("input").attr("name"),type:"text",value:$(this).children("input").val()})}),0==e.length&&(e=null),i.onConfirm(e),t()}),$(".vsui-btn__cancel").on("click",function(){t()}),$(".vsui-prompt-more").on("click",function(){if("checkbox"===i.more.type){var e=generateMixed(6);a='<label class="vsui-input-checkbox inline" for="vsPromptId'+e+'"><input type="checkbox" name="'+i.more.name+'" id="vsPromptId'+e+'"><div class="vsui-icon" style="'+i.more.style+'"></div><p style="'+i.more.style+'">'+i.more.label+"</p></label>"}else"text"===i.more.type&&(a='<div class="vsui-input-text inline"><div class="name" style="'+i.more.style+'">'+i.more.label+'</div><input name="'+i.more.name+'" type="text" style="'+i.more.style+'"></div>');$(this).before(a),console.log(i.more)}),_sington=u[0],_sington.hide=t,_sington}function generateMixed(e){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],i="",n=0;n<e;n++)i+=t[Math.ceil(15*Math.random())];return i}function Result(e){this.label=e.label,this.value=e.value}function picker(){function e(t){e=$.noop,l.remove(),_sington=!1,t&&t()}function t(e,i){if(void 0===r[i]&&n.defaultValue&&void 0!==n.defaultValue[i]){for(var a=n.defaultValue[i],o=0,d=e.length;o<d&&a!=e[o].value;++o);o<d?r[i]=o:console.warn("Picker has not match defaultValue: "+a)}l.find(".vsui-picker__group").eq(i).scroll({items:e,temp:r[i],onChange:function(e,a){u[i]=e?new Result(e):null,r[i]=a,s?n.onChange(u):e.children&&e.children.length>0?(l.find(".vsui-picker__group").eq(i+1).show(),!s&&t(e.children,i+1)):(u.splice(i+1),n.onChange(u))},onConfirm:n.onConfirm})}var i=arguments[arguments.length-1],n=$.extend({id:"default",className:"",container:"body",onChange:$.noop,onConfirm:$.noop},i),a=void 0,s=!1;if(arguments.length>2){var o=0;for(a=[];o<arguments.length-1;)a.push(arguments[o++]);s=!0}else a=arguments[0];temp[n.id]=temp[n.id]||[];var u=[],r=temp[n.id],l=$(render('<div class="vsui-picker__dateItem"></div>',n)),d=(i.depth||(s?a.length:depthOf(a[0])),"");d='<div class="vsui-picker__group x4">            <div class="vsui-picker__mask"></div>        <div class="vsui-picker__indicator"></div>        <div class="vsui-picker__content"></div>        </div> <div class="vsui-picker__group x2">        <div class="vsui-picker__mask"></div>        <div class="vsui-picker__indicator"></div>        <div class="vsui-picker__content"></div>        </div>        <div class="vsui-picker__group x2">        <div class="vsui-picker__mask"></div>        <div class="vsui-picker__indicator"></div>        <div class="vsui-picker__content"></div>        </div>',l.html(d),"start"==n.property?$(".vsui-picker__bd").prepend(l):"end"==n.property&&$(".vsui-picker__bd").append(l),s?a.forEach(function(e,i){t(e,i)}):t(a,0),(_sington=l[0]).hide=function(t){e(t)},this.result=u}function datePicker(e){var t=$.extend({id:"datePicker",onChange:$.noop,onConfirm:$.noop,start:2e3,end:2030,property:"start",defaultValue:[(new Date).getFullYear(),(new Date).getMonth()+1,(new Date).getDate()],cron:"* * *"},e);"number"==typeof t.start?t.start=new Date(t.start+"-01-01"):"string"==typeof t.start&&(t.start=new Date(t.start)),"number"==typeof t.end?t.end=new Date(t.end+"-12-31"):"string"==typeof t.end&&(t.end=new Date(t.end));var i=function(e,t,i){for(var n=0,a=e.length;n<a;n++){var s=e[n];if(s[t]==i)return s}},n=[],a=parse(t.cron,t.start,t.end),s=void 0;do{var o=(s=a.next()).value.getFullYear(),u=s.value.getMonth()+1,r=s.value.getDate(),l=i(n,"value",o);l||(l={label:o,value:o,children:[]},n.push(l));var d=i(l.children,"value",u);d||(d={label:2==String(u).length?String(u):"0"+u,value:u,children:[]},l.children.push(d)),d.children.push({label:2==String(r).length?String(r):"0"+r,value:r})}while(!s.done);return new picker(n,t)}function parseField(e,t){for(var i=t[0],n=t[1],a=[],s=void 0,o=(e=e.replace(/\*/g,i+"-"+n)).split(","),u=0,r=o.length;u<r;u++){var l=o[u];l.match(regex)&&l.replace(regex,function(e,t,o,u){u=parseInt(u)||1,t=Math.min(Math.max(i,~~Math.abs(t)),n),o=o?Math.min(n,~~Math.abs(o)):t,s=t;do{a.push(s),s+=u}while(s<=o)})}return a}function parse(e,t,i){var n=[];return e.replace(/^\s\s*|\s\s*$/g,"").split(/\s+/).forEach(function(e,t){var i=constraints[t];n.push(parseField(e,i))}),new Schedule(n,t,i)}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};document.addEventListener("touchstart",function(){},!1),$(document).ready(function(){$(".vsui-header").width($(window).width()-24),$(".vsui-content").width($(window).width()-24),$(".vsui-footer").width($(window).width()-24),$(".vsui-picker").width($(window).width()-24),$(".vsui-radio input[type='radio']").on("click",function(){$(".vsui-radio").each(function(){$(this).removeClass("checked")}),$(".vsui-radio-input").removeClass("checked"),$(".vsui-radio input:checked").each(function(){$(this).parent("label").addClass("checked")})}),$(".vsui-radio-input input[type='text']").on("click",function(){$(".vsui-radio").each(function(){$(this).removeClass("checked")}),$(".vsui-radio-input").addClass("checked")}),$("form.vsui-radioPage").submit(function(e){e.preventDefault();var t=$(this).attr("action")?"action='"+$(this).attr("action")+"'":"",i=$(this).attr("method")?"method='"+$(this).attr("method")+"'":"",n=$(this).attr("name")?"name='"+$(this).attr("name")+"'":"",a=$(this).children(".checked").children("input"),s=a.attr("name")?"name='"+a.attr("name")+"'":"",o=$.trim(a.val());if(o.length<1)return!1;var u=generateMixed(8),r="<form id='"+u+"' "+t+" "+i+" "+n+" style='display:none'>";r+="<input type=hidden "+s+" value='"+o+"'/>",r+="</form>",$(this).after(r),$("#"+u).submit()}),$("input[type='text']").on("focus",function(){var e=this;setTimeout(function(){e.scrollIntoViewIfNeeded()},200)})}),Result.prototype.toString=function(){return this.value},Result.prototype.valueOf=function(){return this.value};var _sington=void 0,temp={},setTransition=function(e,t){return e.css({"-webkit-transition":"all "+t+"s",transition:"all "+t+"s"})},setTranslate=function(e,t){return e.css({"-webkit-transform":"translate3d(0, "+t+"px, 0)",transform:"translate3d(0, "+t+"px, 0)"})},getDefaultIndex=function(e){for(var t=Math.floor(e.length/2),i=0;e[t]&&e[t].disabled;)if(t=++t%e.length,++i>e.length)throw new Error("No selectable item.");return t},getDefaultTranslate=function(e,t,i){return(e-getDefaultIndex(i))*t},getMax=function(e,t){return e*t},getMin=function(e,t,i){return-t*(i-e-1)};$.fn.scroll=function(e){function t(e){l=e,c=+new Date}function i(e){var t=(d=e)-l;setTransition(r,0),setTranslate(r,v+t),c=+new Date,p.push({time:c,y:d}),p.length>40&&p.shift()}function n(e){if(l){var t=(new Date).getTime(),i=h-s.bodyHeight/2;if(d=e,t-c>100)g(Math.abs(d-l)>10?d-l:i-d);else if(Math.abs(d-l)>10){for(var n=p.length-1,a=n,o=n;o>0&&c-p[o].time<100;o--)a=o;if(a!==n){var u=p[n],r=p[a],v=u.time-r.time,f=u.y-r.y;g(150*(f/v)+(d-l))}else g(0)}else g(i-d);l=null}}var a=this,s=$.extend({items:[],scrollable:".vsui-picker__content",offset:1,rowHeight:34,onChange:$.noop,temp:null,bodyHeight:102},e),o=s.items.map(function(e){return'<div class="vsui-picker__item'+(e.disabled?" vsui-picker__item_disabled":"")+'">'+e.label+"</div>"}).join(""),u=$(this);u.find(".vsui-picker__content").html(o);var r=u.find(s.scrollable),l=void 0,d=void 0,c=void 0,v=void 0,p=[],h=window.innerHeight;if(null!==s.temp&&s.temp<s.items.length){var f=s.temp;s.onChange.call(this,s.items[f],f),v=(s.offset-f)*s.rowHeight}else{var m=getDefaultIndex(s.items);s.onChange.call(this,s.items[m],m),v=getDefaultTranslate(s.offset,s.rowHeight,s.items)}setTranslate(r,v);var g=function(e){v+=e,v=Math.round(v/s.rowHeight)*s.rowHeight;var t=getMax(s.offset,s.rowHeight),i=getMin(s.offset,s.rowHeight,s.items.length);v>t&&(v=t),v<i&&(v=i);for(var n=s.offset-v/s.rowHeight;s.items[n]&&s.items[n].disabled;)e>0?++n:--n;v=(s.offset-n)*s.rowHeight,setTransition(r,.3),setTranslate(r,v),s.onChange.call(a,s.items[n],n)};r=u.offAll().on("touchstart",function(e){t(e.changedTouches[0].pageY)}).on("touchmove",function(e){i(e.changedTouches[0].pageY),e.preventDefault()}).on("touchend",function(e){n(e.changedTouches[0].pageY)}).find(s.scrollable),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||u.on("mousedown",function(e){t(e.pageY),e.stopPropagation(),e.preventDefault()}).on("mousemove",function(e){l&&(i(e.pageY),e.stopPropagation(),e.preventDefault())}).on("mouseup mouseleave",function(e){n(e.pageY),e.stopPropagation(),e.preventDefault()})};var regex=/^(\d+)(?:-(\d+))?(?:\/(\d+))?$/g,constraints=[[1,31],[1,12],[0,6]],Schedule=function(){function e(t,i,n){_classCallCheck(this,e),this._dates=t[0],this._months=t[1],this._days=t[2],this._start=i,this._end=n,this._pointer=i}return _createClass(e,[{key:"_findNext",value:function(){for(var e=void 0;;){if(this._end.getTime()-this._pointer.getTime()<=0)throw new Error("out of range, end is "+this._end+", current is "+this._pointer);var t=this._pointer.getMonth(),i=this._pointer.getDate(),n=this._pointer.getDay();if(-1!==this._months.indexOf(t+1))if(-1!==this._dates.indexOf(i)){if(-1!==this._days.indexOf(n)){e=new Date(this._pointer);break}this._pointer.setDate(i+1)}else this._pointer.setDate(i+1);else this._pointer.setMonth(t+1),this._pointer.setDate(1)}return e}},{key:"next",value:function(){var e=this._findNext();return this._pointer.setDate(this._pointer.getDate()+1),{value:e,done:!this.hasNext()}}},{key:"hasNext",value:function(){try{return this._findNext(),!0}catch(e){return!1}}}]),e}(),render=function(e,t){var i="let p=[];with(this){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');";return new Function(i).apply(t)},depthOf=function e(t){var i=1;return t.children&&t.children[0]&&(i=e(t.children[0])+1),i},getStyle=function(e,t){var i=void 0,n=(e.ownerDocument||document).defaultView;return n&&n.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),i=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(i)?function(t){var i=e.style.left,n=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=i,e.runtimeStyle.left=n,t}(i):i):void 0};$.fn.offAll=function(){return this};